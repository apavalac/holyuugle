{% extends('base.html.twig') %}

{% block stylesheets %}
    <link rel="stylesheet" href="css/search.css">
{% endblock %}

{% block body %}
    <div class="container">
        <div class="card mb-4">
            <div class="card-body">
                <form action="/search" method="post" class="navbar-form" role="search">
                    <div class="input-group">
                        <select class="form-control" id="country" name="country">
                            {% for country in supported %}
                                <option value="{{ country[0] }}">{{ country[1] }}</option>
                            {% endfor %}
                        </select>
                        <input type="number" class="col-3 form-control" placeholder="Year" name="year" required>
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <h2>Totay is a: {{ currentDay }}</h2>
        <div class="card mb-md-4">
            <div class="card-body">
                {% if holidaysCount > 0 %}
                    <p class="card-date">{{ holidaysCount }} holidays</p>
                    <p class="card-date">Max holidays in a row = {{ maxHolidays }}</p>
                {% else %}
                    <p class="card-date mt-2">Wrong year range or something else!</p>
                {% endif %}
            </div>
        </div>
        {% for month in monthsDays %}
            {# Getting the current month #}
            {% for key,value in monthsDays %}
                {% if value == month %}
                    <h2>{{ months[key + 1] }}</h2>
                {% endif %}
            {% endfor %}
            <div class="card mb-md-4">
                <div class="card-body">
                    {% for day in month %}
                        <p class="holi-name">{{ day['name'][0]['text'] }}</p>
                        <p class="holi-name-en">[{{ day['name'][1]['text'] }}]</p>
                        <p class="card-date">{{ day['date']['day'] }}/{{ day['date']['month'] }}/{{ day['date']['year'] }}</p>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}

    </div>
{% endblock %}
